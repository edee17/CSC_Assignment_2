<div id="update">
</div>
<div id="disqus_thread"></div>
@section Scripts{
    <style>
        #update {
            font-family: Georgia, "Times New Roman", Times, serif;
            width: 70%;
            margin: 0 auto;
            border-top: 1px dotted #CCC;
        }

            #update ul {
                list-style: none;
                margin: 0;
                padding: 0;
            }

            #update h2 {
                margin: 0;
                padding: 0;
                font-size: 1.2em;
                padding-bottom: 5px;
                padding-top: 20px;
                font-family: Arial, Helvetica, sans-serif;
                color: #BF5841;
                border-bottom: 1px dotted #CCC;
                margin-bottom: 10px;
            }

            #update img {
                float: left;
                width: 80px;
                margin-right: 10px;
                -webkit-border-radius: 10px;
                -moz-border-radius: 10px;
                border-radius: 10px;
            }
    </style>
    <script>
        var url = window.location.href;
        console.log(url.substr(url.lastIndexOf('/') + 1));

        var id = url.substr(url.lastIndexOf('/') + 1);

        loadData(id);

        function loadData(idPage) {
            var urlForJson = "/api/talents";
            $.getJSON(urlForJson, function (data) {
                var output = '<ul class="searchresults">';
                $.each(data, function (key, val) {
                    //for debug
                    console.log(data);
                    if (val.id == idPage) {
                        output += '<li>';
                        output += '<h2>' + val.name + '</h2>';
                        output += `<img src="${val.image}" alt="${val.name}" />`;
                        output += '<p>' + val.bio + '</p>';
                        output += '</li>';
                    }
                });
                output += '</ul>';
                $('#update').html(output);
            }); //get JSON

        }

        loadDisqus(id);

        function loadDisqus(idPage) {
            /**
        *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
            console.log("load disqus.");
            var disqus_config = function () {
                this.page.url = "http://ec2-34-230-50-93.compute-1.amazonaws.com/";  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = `/Home/Comments/${idPage}`; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };

            (function () { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://lttalents.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        }
    </script>
}
